<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DBDガチ勢チェックテスト</title>
<style>
  body { 
    font-family: "Segoe UI", sans-serif; 
    margin: 0; 
    background: #000;   /* 背景黒色 */
    color: #fff; 
  }
  h1 { 
    text-align: center; 
    margin: 5px 0;    /* 上下余白ほぼ無し */
    padding: 5px 0;
    color: #f33; 
    font-size: 22px; 
  }
  img.header-img { 
    width: 100%; 
    max-height: 200px; 
    object-fit: cover; 
    display: block;
  }
  #progressBarContainer { 
    width: 100%; 
    background: #333; 
    height: 8px; 
    border-radius: 4px; 
    margin: 10px 0; 
  }
  #progressBar { 
    width: 0%; 
    height: 100%; 
    background: #f33; 
    border-radius: 4px; 
    transition: width 0.3s; 
  }
  .container { 
    max-width: 500px; 
    margin: 0 auto; 
    padding: 20px; 
    background: #000;   /* 設問部分も黒色 */
    border-radius: 12px; 
  }
  .question { font-size: 18px; margin: 20px 0; text-align: center; }
  .options { display: grid; gap: 10px; margin-top: 20px; }
  .option-btn {
    padding: 15px;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    background: #222;
    color: #fff;
    cursor: pointer;
    transition: 0.2s;
  }
  .option-btn:hover { background: #333; }
  #backBtn {
    margin-top: 15px;
    padding: 10px 15px;
    font-size: 14px;
    background: #444;
    border: none;
    border-radius: 8px;
    color: #fff;
    cursor: pointer;
  }
  #backBtn:hover { background: #666; }
  #result { text-align: center; font-size: 20px; margin-top: 30px; }
  .share-btn {
    background: #1DA1F2;
    padding: 12px 20px;
    border: none;
    border-radius: 10px;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
    margin-top: 20px;
  }
  .share-btn:hover { background: #0d8ddb; }
</style>
</head>
<body>

<h1>DBDガチ勢チェックテスト</h1>
<img src="dead-by-daylight-1hg3x.jpg" alt="Dead by Daylight" class="header-img">
<div id="progressBarContainer"><div id="progressBar"></div></div>

<div class="container">
  <div id="quiz"></div>
  <div id="result"></div>
</div>

<script>
const questions = [
  { text: "問1. 発電機を回さないサバイバーがいるとイラっとする", reverse: false },
  { text: "問2. リザルト画面で相手のパークやアドオンを確認し、反省や対策をする", reverse: false },
  { text: "問3. 勝ち負けにこだわってプレイしている", reverse: false },
  { text: "問4. VCで味方にマップ報告することが多い", reverse: false },
  { text: "問5. 通電を目的として遊んでいない", reverse: true },
  { text: "問6. ほぼ全てのパーク効果を把握している自信がある", reverse: false },
  { text: "問7. スクショポイントを探したり、フレンド間で集まってエモートや屈伸で遊ぶことがある", reverse: true },
  { text: "問8. 上級者のプレイ動画をよく見て勉強している", reverse: false },
  { text: "問9. 色んなおもしろパーク構成を試してプレイしている", reverse: true },
  { text: "問10. キャラクターが目立つスキンでも、面白さやかわいさの方を優先してスキンを選んでいる", reverse: true }
];

const options = [
  "全くそう思わない",
  "どちらかというとそう思わない",
  "どちらでもない（時と場合による）",
  "どちらかというとそう思う",
  "強くそう思う"
];

let currentQuestion = 0;
let scores = [];

function showQuestion() {
  if (currentQuestion < questions.length) {
    const q = questions[currentQuestion];
    document.getElementById("quiz").innerHTML = `
      <div class="question">${q.text}</div>
      <div class="options">
        ${options.map((opt,i)=> `<button class="option-btn" onclick="selectAnswer(${i+1})">${opt}</button>`).join('')}
      </div>
      ${currentQuestion>0? `<button id="backBtn" onclick="goBack()">戻る</button>` : ''}
    `;
    document.getElementById("progressBar").style.width = `${(currentQuestion / questions.length) * 100}%`;
  } else {
    showResult();
  }
}

function selectAnswer(value) {
  const q = questions[currentQuestion];
  const score = q.reverse ? 6-value : value;
  scores[currentQuestion] = score;
  currentQuestion++;
  showQuestion();
}

function goBack() {
  if(currentQuestion>0){
    currentQuestion--;
    showQuestion();
  }
}

function showResult(){
  const total = scores.reduce((a,b)=>a+b,0);
  let rank="";
  if(total<=15) rank="超絶エンジョイ勢";
  else if(total<=20) rank="エンジョイ勢";
  else if(total<=25) rank="ややエンジョイ勢寄り";
  else if(total<=35) rank="どちらでもない";
  else if(total<=40) rank="ややガチ勢寄り";
  else if(total<=45) rank="ガチ勢";
  else rank="超絶ガチ勢";

  document.getElementById("quiz").innerHTML="";
  document.getElementById("result").innerHTML=`
    <p>判定：<strong>${rank}</strong></p>
    <button class="share-btn" onclick="shareResult('${rank}')">結果をXでシェア</button>
  `;
  document.getElementById("progressBar").style.width="100%";
}

function shareResult(rank){
  const text=`DBDガチ勢チェックテスト🎮 判定: ${rank} #DBD #ガチ勢チェック`;
  const url=encodeURIComponent(window.location.href);
  window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${url}`,"_blank");
}

showQuestion();
</script>

</body>
</html>
